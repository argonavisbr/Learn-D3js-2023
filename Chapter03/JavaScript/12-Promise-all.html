<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JavaScript examples: Promise-all</title>
</head>
<body>
<h1>JavaScript examples: Promise-all</h1>
<p>Open developer console to see results. Open code to see comments</p>
<script>

    const filenames = [
        'continents.csv',
        'continents.json',
        'continents.xml'
    ];

    const promises =
        filenames.map(
            file => fetch(`../data/${file}`).then(resp => resp.text())
        );

    Promise.all(promises)
        .then( files => {
            const total = files.map(file => file.length)
                               .reduce( (tot, len) => tot + len);
            console.log(`Total size (bytes): ${total}`);
        });

</script>
</body>
</html>