<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Stack</title>
    <script src="https://d3js.org/d3.v5.min.js"></script>
</head>
<body>
<p>See results in JavaScript console</p>
<script>
    d3.csv("../data/GLB.Ts.2020.2023.csv")
        .then(function(data) {
            console.log(data)
            const stack = d3.stack()
                    .keys(data.columns.filter(d => d != "Year"));
            const stackedData = stack(data);
            console.log(JSON.stringify(stackedData));
        });



    /* Result
     [[[0,2],[0,1],[0,4],[0,0],[0,3],[0,0]],[[2,6],[1,3],[4,9],[0,0],[3,7],[0,0]],[[6,12],[3,6],[9,15],[0,1],[7,12],[0,0]],[[12,20],[6,10],[15,22],[1,3],[12,18],[0,1]],[[20,27],[10,15],[22,31],[3,5],[18,25],[1,2]],[[27,34],[15,21],[31,41],[5,7],[25,33],[2,3]]]
     */

</script>
</body>
</html>