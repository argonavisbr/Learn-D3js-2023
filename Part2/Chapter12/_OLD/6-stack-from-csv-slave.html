<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Stack</title>
    <script src="https://d3js.org/d3.v5.min.js"></script>
</head>
<body>
<p>See results in JavaScript console</p>
<script>
    d3.dsv(";", "../Data/slave-trade-data-test.csv")
        .then(function(data) {
            console.log(data)
            const stack = d3.stack()
                    .keys(data.columns.filter(d => d != "Year"));
            const stackedData = stack(data);
            console.log(JSON.stringify(stackedData));
        });



    /* Result
     [[[0,500],[0,1000],[0,0],[0,0]],[[500,25500],[1000,51000],[0,50000],[0,50000]],[[25500,175500],[51000,71000],[50000,350000],[50000,350000]]]
     */

</script>
</body>
</html>