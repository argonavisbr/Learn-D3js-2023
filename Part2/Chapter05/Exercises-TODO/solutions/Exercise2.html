<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Template file for Chapter05/Selecting</title>
</head>
<body>
<h1>Use JavaScript console to follow examples</h1>

<p id="a1">Before</p>
<div class="air">
    <p id="a2">Hawk</p>
    <p id="a3">Parrot</p>
    <p id="a4">Vulture</p>
</div>
<div class="water">
    <p id="a5">Dolphin</p>
    <p id="a6">Shark</p>
</div>
<p id="a7">After</p>

<canvas></canvas>

<script type="module">
    import * as d3 from "https://cdn.jsdelivr.net/npm/d3@7/+esm";

    const canv = d3.select("canvas")
        .attr("height", 200)
        .attr("width", 200)
        .style("border","solid")

    // Select the paragraph that has an odd (zero-based) index (or even 1-based position)
    // that is a child of the first element of class air. Get its text and save it
    // in a constant. Then the canvas graphics context and draw the text in it
    // (use context.fillText(text, 5, 20))

    const text = d3.select("div.air")
                   .selectAll("p")
                   .filter((_,i) => i % 2 != 0).text();
    console.log(text)

    const ctx = canv.node().getContext("2d");
    ctx.fillText(text, 5, 20)

    // Add a bypass to use D3 functions at the console prompt
    window.d3 = d3;
</script>

</body>
</html>