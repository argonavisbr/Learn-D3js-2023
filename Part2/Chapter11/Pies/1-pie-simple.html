<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Simple pie</title>
    <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
</head>
<body>
<script>
    const width  = 650;
    const height = 650;

    const data = [30736, 101720, 281983]

    // Configuration for the pie chart - using defaults
    const pie = d3.pie();

    // Generate the data array containing the angle configuration for each arc
    const slices = pie(data);
    console.log(slices); // inspect the generated code

    // Radius configuration for all arcs
    const arc = d3.arc()
                  .innerRadius(2)
                  .outerRadius(200);

    // A simple color scale
    const colorScale = d3.scaleOrdinal(d3.schemeSet2);

    // The svg container
    const svg = d3.select("body").append("svg").attr("height",height).attr("width",width);

    // Bind the data to a container, and place the origin where the chart will fit
    const chart = svg.selectAll("g")
                     .data( pie(data) )
                       .join("g")
                          .attr("transform", `translate(${[width/2,height/2]})`);

    // Render the chart
    chart.append("path")
            .attr("class", "slice")
            .attr("d", arc)
            .attr("fill", (d,i) => colorScale(i));


</script>
</body>
</html>