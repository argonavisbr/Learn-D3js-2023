<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Parsing DSV data structures</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
<h1>Open JavaScript console to see results</h1>
<script>

    const matrix = [
        ["abc", "def", "ghi"],
        ["jkl", "mno", "pqr"],
        ["stu", "vwx", "yz"],
    ];

    const objects = [
        {"name":"Mercury","distance":0.387},
        {"name":"Venus","distance":0.723},
        {"name":"Earth","distance":1},
        {"name":"Mars","distance":1.52},
        {"name":"Jupiter","distance":5.2},
        {"name":"Saturn","distance":9.54},
        {"name":"Uranus","distance":19.2},
        {"name":"Neptune","distance":30.1},
    ]

    const semicolonParser = d3.dsvFormat(";"); // the semicolon character

    // Create a semicolon-separated dataset with no headers row
    const dataset = semicolonParser.formatRows(matrix);
    console.log("formatRows dataset\n--------\n", dataset);

    // Create a semicolon-separated dataset with a headers row (defaults to 1, 2, 3, ...)
    const dataset2 = semicolonParser.format(objects);
    console.log("format dataset\n--------\n", dataset2);
/*
    // Parse a semicolon-separated dataset and treat all rows equally
    // Creates an array of string arrays
    const data2 = semicolonParser.parseRows(dataset);
    console.log("parseRows data\n", data2);

    // Parse a semicolon-separated dataset and treat the first row as a headers row
    // Creates an array of objects
    const data3 = semicolonParser.parse(dataset2);
    console.log("parse data\n", data3);

 */

</script>
</body>
</html>