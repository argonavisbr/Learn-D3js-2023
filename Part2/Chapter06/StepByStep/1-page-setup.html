<!DOCTYPE html>
<html lang="en">
<head>
    <title>Moons</title>
    <!-- Using free Yanone Kaffeesatz fonts: https://www.yanone.de/fonts/kaffeesatz/ -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz">
    <style>
        svg { border: solid 1px gray; }
        * { font-family: 'Yanone Kaffeesatz', sans-serif; }
        text { font-size: 11px; }
    </style>
</head>
<body>

<h1>The largest moons</h1>
<div id="container" width="500" height="300">
    <svg height="100%" width="100%" id="moons"></svg>
</div>
<form></form>

<script type="module">
    import * as d3 from "https://cdn.jsdelivr.net/npm/d3@7/+esm";
    // GLOBAL CONSTANTS

    // This object contains data used for the application
    export const app = {
        planets: [],   // planetary data will be loaded from external file
        colors: ['#4169e1','#cc8530','#d4a450','#dab520','#7fffd4','#1e90ff']
    }

    // This object contains variables that change for each view
    app.current = {
        moons: [],          // the moons to be displayed
        id: undefined,      // key to select current object
        planet: {},         // the object used in the current view
        color: "black"      // color of the planet
    }
    app.current.id = "p5"; // start with Jupiter id = "p5"

    // A function that will scale the diameters in km to pixels
    app.scale = d3.scaleLinear();

    // Dimensions and spacing for the SVG graphics context
    export const dim = {width: 500, height: 300, margin: {left: 20, right: 20, top: 50, bottom: 50}};
    dim.margin.moon = 10;    // horiz space between moons
    dim.margin.planet = 100; // horiz space reserved for the planet

    // Obtain a handle to the SVG element and set up the view port
    const svg = d3.select("#moons")
                  .attr("viewBox", `0 0 ${dim.width} ${dim.height}`);

    // All moons will be anchored on this object (the orbital plane)
    const plane = svg.append("g")
                     .attr("transform", `translate(${[dim.margin.planet, dim.height/2]})`);

    // Next steps
    // 1) Load the data
    // 2) Select the data for the initial view
    // 3) Bind the data to graphical elements and draw the view
    // 4) Add interactive behavior: change planets and update moons

</script>


</body>
</html>
