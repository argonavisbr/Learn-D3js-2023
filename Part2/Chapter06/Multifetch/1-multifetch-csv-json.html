<!DOCTYPE html>
<html lang="en">
<head>
    <title>Multifetch</title>
</head>
<body>


<script type="module">
    import * as d3 from "https://cdn.jsdelivr.net/npm/d3@7/+esm";

    const shapesFile = '../data/world-lowres.geojson';
    const pointsFile  = '../data/cities15000.csv';

    Promise.all([
        d3.json(shapesFile),
        d3.dsv(';', pointsFile, function(row) {
            return {
                name: row.asciiname,
                coords: [+row.longitude, +row.latitude],
                pop: +row.population
            }
        })
    ]).then(function([shapes, points]) {
        console.log(shapes, points);
        // do something with the data
    });
</script>


</body>
</html>
