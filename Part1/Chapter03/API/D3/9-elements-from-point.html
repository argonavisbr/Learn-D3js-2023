<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Examples using elementsFromPoint</title>
</head>
<body>
<h1>Examples using elementsFromPoint</h1>
<p>Click anywhere inside fill, on stroke or outside shape. See console to see which elements are in the point that you clicked.</p>
<script type="module">
    import * as d3 from "https://cdn.skypack.dev/d3@7";

    const svg = d3.select("body").append("svg")
                    .attr("width", 600)
                    .attr("height", 600)
                    .attr("viewBox", "0 0 300 300")
                    .style("cursor", "crosshair");

    // a random path
    const pathString = "M 10 10 L 100 100 L 200 10";

    const path = svg.append("path")
                    .attr("d", pathString)
                    .style("fill", "red")
                    .style("stroke-width", 0.5)
                    .style("fill-opacity", 0.8)
                    .style("stroke", "black");

    svg.on("click", function(e) {
        const pt = new DOMPoint(e.x, e.y);
        const elements = document.elementsFromPoint(pt.x, pt.y);
        console.log(elements);
        // if you need to convert to local (SVG) coordinates, use the following:
        // const localPt = d3.pointer(e);
    });

</script>

</body>
</html>