<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SVG animation</title>
</head>
<body>
<script type="module">
    import * as d3 from "https://cdn.skypack.dev/d3@7";

    const svg =
        d3.create("svg")
          .attr("width", 800)
          .attr("height", 400);

    const rect1 = svg.append("rect")
        .attr("x", 50)
        .attr("y", 50)
        .attr("width", 100)
        .attr("height", 50)
        .attr("fill", "red");

    const rect2 = svg.append("rect")
        .attr("x", 200)
        .attr("y", 50)
        .attr("width", 100)
        .attr("height", 50)
        .attr("fill", "blue")
        .attr("opacity", 0.5);

    rect1.each(function() {
        d3.select(this)
            .append("animate")
            .attr("attributeName", "x")
            .attr("to", 200)
            .attr("dur", "2s")
            .attr("begin", "click+1s")
            .attr("fill", "freeze");
        d3.select(this)
            .append("animate")
            .attr("attributeName", "fill")
            .attr("to", "yellow")
            .attr("dur", "2s")
            .attr("begin", "click+1s")
            .attr("fill", "remove");
    });

    rect2.append("animate")
        .attr("attributeName", "y")
        .attr("to", 100)
        .attr("dur", "2s")
        .attr("begin", "click+1s")
        .attr("fill", "freeze");

    d3.select("body").append(() => svg.node());

</script>
</body>
</html>